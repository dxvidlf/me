---
title: "Cámara móvil"
excerpt: "Implementación de una cámara con sistema de movimiento"
header:
  teaser: "/assets/images/bannerCamara.jpeg"
categories:
  - Proyecto
youtubeId1: mXdExKBlVZQ
youtubeId2: 6ruWTDzpkmI
---

<style>
    .contenedor {
      text-align: center; /* Centra los elementos dentro del contenedor */
    }
    /* Estilos para el botón */
    .boton {
      display: inline-block;
      padding: 10px 20px;
      background-color: #4CAF50; /* Color de fondo */
      color: white; /* Color del texto */
      text-align: center;
      text-decoration: none;
      font-size: 16px;
      cursor: pointer;
      border-radius: 5px; /* Bordes redondeados */
      border: none; /* Sin borde */
      transition: background-color 0.3s; /* Transición suave del color de fondo */
      margin-bottom: 20px; /* Agrega un margen inferior para separar el botón del texto */
    }

    /* Cambio de color al pasar el ratón sobre el botón */
    .boton:hover {
      background-color: #45a049; /* Color de fondo cuando se pasa el ratón */
    }

     .contenedor-imagenes {
      display: flex; /* Utilizamos flexbox para organizar las imágenes */
      justify-content: center; /* Centramos las imágenes horizontalmente */
      margin-top: 20px; /* Espacio superior */
      margin-bottom: 20px; /* Espacio inferior */
    }

    .imagen {
      width: 30%; /* Cada imagen ocupará el 50% del ancho del contenedor */
      height: auto; /* Altura automática para mantener la proporción */
    }
</style>


# Objetivo

El siguiente proyecto constituye la implementación de una cámara con un sistema de movimiento integrado, el cuál permite el giro de esta en el plano horizontal en 360 grados. Esta cámara ha sido destinada a dos objetivos principales:

- Como cámara de seguridad para un sistema de domotización de una vivienda. Para acceder a dicho proyecto haga click en el siguiente botón.

<div class="contenedor">
  <!-- Botón con estilo -->
  <button class="boton" onclick="window.open('https://dxvidlf.github.io/profile/proyecto/Domotizacion/', '_blank')">Ver proyecto de domotización</button>  
  <br>
</div>

- Como sistema de visión en tiempo real para un robot móvil de cinemática diferencial. Para acceder a dicho proyecto haga click en el siguiente botón.

<div class="contenedor">
  <!-- Botón con estilo -->
  <button class="boton" onclick="window.open('https://dxvidlf.github.io/profile/proyecto/Piero/, '_blank')">Ver proyecto de robot móvil</button>
</div>

Para controlar el sistema de movimiento de la cámara se pueden emplear tres medios:
- Mando Wifi 
- Chat de Telegram
- Dashboard de NodeRed

## Control de la cámara mediante el mando Wifi

El mando Wifi está compuesto principalmente por un par de joysticks y una ESP32 Wroom 32, la cual hace de puente de conexión entre la cámara y los comandos del joystick. El segundo joystick está destinado al control manual del movimiento del robot diferencial mencionado anteriormente. La traducción de movimientos del otro joytsick en comandos para la cámara es la siguiente: 

<div style="text-align: center;">

| Movimiento | Comando |
|-------------|---------|
| Joystick hacia arriba | Activar/Desactivar el LED flash de la cámara |
| Joystick hacia abajo | Llevar la cámara hacia su posición origen |
| Joystick hacia la derecha | Girar cámara hacia la derecha|
| Joystick hacia la izquierda | Girar cámara hacia la izquierda |
| Click en el joystick | Hacer una foto y mandarla a Telegram  |

</div>

En el siguiente video se puede ver la cámara moviéndose haciendo uso del mando Wifi. 

{% include youtubePlayer.html id=page.youtubeId1 %}

## Control de la cámara mediante Telegram y NodeRed

Para el control de la cámara mediante Telegram se ha creado un bot que nos ofrece un completo menú de acciones disponibles. En este sentido, Telegram y NodeRed funcionan al unísono, dado que la gestión de las peticiones realizadas al bot de Telegram son gestionadas mediante la lógica de un flujo implementado en NodeRed, el cual a su vez nos ofrece una completa interfaz de usuario donde podemos controlar por completo todo el sistema de la cámara. 

<div class="contenedor-imagenes">
  <!-- Primera imagen -->
  <img class="imagen" src="../assets/images/IMG_5391.webp" alt="Imagen 1">
  <!-- Segunda imagen -->
  <img class="imagen" src="../assets/images/IMG_5393.webp" alt="Imagen 2">
</div>

Además, gracias al uso de MongoDB como base de datos, todas las fotos que tomemos se guardarán para que posteriormente podamos recuperarlas si lo precisamos. 
